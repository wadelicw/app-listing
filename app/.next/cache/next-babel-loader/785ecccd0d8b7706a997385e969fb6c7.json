{"ast":null,"code":"var __jsx = React.createElement;\n// From node_modules\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Head from \"next/head\";\nimport HorizontalScroll from \"react-scroll-horizontal\"; // From Components\n\nimport InputBar from \"../components/inputBar/inputBar.js\";\nimport AppListing from \"../components/appListing/appListing.js\";\nimport AppsRecommend from \"../components/appsRecommend/appsRecommend.js\"; // From css\n\nimport styles from \"../styles/Home.module.css\";\nexport default function Home() {\n  var _useState = useState(false),\n      hasError = _useState[0],\n      setHasError = _useState[1];\n\n  var _useState2 = useState({}),\n      appsData = _useState2[0],\n      setAppsData = _useState2[1];\n\n  var _useState3 = useState(false),\n      isLoading = _useState3[0],\n      setIsLoading = _useState3[1];\n\n  var _useState4 = useState({}),\n      appsRecommend = _useState4[0],\n      setAppsRecommend = _useState4[1];\n\n  var _useState5 = useState(false),\n      isLoadingRecommend = _useState5[0],\n      setIsLoadingRecommend = _useState5[1];\n\n  useEffect(function () {\n    var targetUrl = \"https://rss.itunes.apple.com/api/v1/hk/ios-apps/top-free/all/10/explicit.json \";\n    /*\n    Top 100:\n    const targetUrl = \"https://rss.itunes.apple.com/api/v1/hk/ios-apps/top-free/all/100/explicit.json\"\n    */\n\n    axios(targetUrl).then(function (res) {\n      return setAppsData(res.data);\n    }).then(function () {\n      return setIsLoading(true);\n    })[\"catch\"](function (err) {\n      return setHasError(true);\n    });\n  }, []);\n  useEffect(function () {\n    var targetUrl = \"https://rss.itunes.apple.com/api/v1/hk/ios-apps/top-grossing/all/10/explicit.json\";\n    axios(targetUrl).then(function (res) {\n      return setAppsRecommend(res.data);\n    }).then(function () {\n      return setIsLoadingRecommend(true);\n    })[\"catch\"](function (err) {\n      return setHasError(true);\n    });\n  }, []); // useEffect( () => {  \n  //    const sendGetRequest = async () => {\n  //       try {\n  //             const reviewUrl = \"https://itunes.apple.com/hk/lookup?id=1480196084\"\n  //             const resp = await axios.get(reviewUrl);\n  //             console.log(resp);\n  //             setAppsRating(resp.data);\n  //             console.log(appsRating);\n  //       } catch (err) {\n  //             // Handle Error Here\n  //             console.error(err);\n  //       }\n  //    };\n  //    sendGetRequest();\n  // }, [])\n\n  var appsArray = [];\n\n  if (isLoading) {\n    appsArray = [\"Top Apps\"];\n    var toggle = true;\n\n    for (var i = 0; i < 10; i++) {\n      appsArray.push(__jsx(AppListing, {\n        key: i,\n        appName: appsData.feed.results[i].name,\n        number: i + 1,\n        icon: appsData.feed.results[i].artworkUrl100,\n        genre: appsData.feed.results[i].genres[0].name,\n        toggle: toggle\n      }));\n      toggle = !toggle;\n    }\n  }\n\n  var recommendArray = [];\n\n  if (isLoadingRecommend) {\n    for (i = 0; i < 10; i++) {\n      recommendArray.push(__jsx(AppsRecommend, {\n        key: i,\n        appName: appsRecommend.feed.results[i].name,\n        number: i + 1,\n        icon: appsRecommend.feed.results[i].artworkUrl100,\n        genre: appsRecommend.feed.results[i].genres[0].name\n      }));\n    }\n  }\n\n  return __jsx(\"div\", {\n    className: styles.container\n  }, __jsx(Head, null, __jsx(\"title\", null, \"App Listing\"), __jsx(\"link\", {\n    rel: \"icon\",\n    href: \"/favicon.ico\"\n  })), __jsx(\"main\", {\n    className: styles.main\n  }, __jsx(\"div\", null, __jsx(InputBar, {\n    className: styles.input\n  })), __jsx(\"div\", null, __jsx(\"p\", {\n    className: styles.title\n  }, \"\\u63A8\\u4ECB\"), __jsx(\"div\", {\n    className: styles.recommendBox\n  }, isLoadingRecommend ? console.log(appsRecommend) : __jsx(\"div\", null, \"Loading.\"), __jsx(HorizontalScroll, null, recommendArray))), __jsx(\"div\", null, hasError ? __jsx(\"div\", null, \"Error occured.\") : null, isLoading ? console.log(appsData) : __jsx(\"div\", null, \"Loading.\"), appsArray)));\n}","map":null,"metadata":{},"sourceType":"module"}