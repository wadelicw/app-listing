{"ast":null,"code":"var _jsxFileName = \"/Users/ken/Programs/app-listing/app/pages/index.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n// From node_modules\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Head from \"next/head\";\nimport HorizontalScroll from \"react-scroll-horizontal\"; // From Components\n\nimport InputBar from \"../components/inputBar/inputBar.js\";\nimport AppListing from \"../components/appListing/appListing.js\";\nimport AppsRecommend from \"../components/appsRecommend/appsRecommend.js\"; // From css\n\nimport styles from \"../styles/Home.module.css\";\nexport default function Home() {\n  _s();\n\n  var _useState = useState(false),\n      hasError = _useState[0],\n      setHasError = _useState[1];\n\n  var _useState2 = useState({}),\n      appsData = _useState2[0],\n      setAppsData = _useState2[1];\n\n  var _useState3 = useState(false),\n      isLoading = _useState3[0],\n      setIsLoading = _useState3[1];\n\n  var _useState4 = useState({}),\n      appsRecommend = _useState4[0],\n      setAppsRecommend = _useState4[1];\n\n  var _useState5 = useState(false),\n      isLoadingRecommend = _useState5[0],\n      setIsLoadingRecommend = _useState5[1];\n\n  useEffect(function () {\n    var targetUrl = \"https://rss.itunes.apple.com/api/v1/hk/ios-apps/top-free/all/10/explicit.json \";\n    /*\n    Top 100:\n    const targetUrl = \"https://rss.itunes.apple.com/api/v1/hk/ios-apps/top-free/all/100/explicit.json\"\n    */\n\n    axios(targetUrl).then(function (res) {\n      return setAppsData(res.data);\n    }).then(function () {\n      return setIsLoading(true);\n    })[\"catch\"](function (err) {\n      return setHasError(true);\n    });\n  }, []);\n  useEffect(function () {\n    var targetUrl = \"https://rss.itunes.apple.com/api/v1/hk/ios-apps/top-grossing/all/10/explicit.json\";\n    axios(targetUrl).then(function (res) {\n      return setAppsRecommend(res.data);\n    }).then(function () {\n      return setIsLoadingRecommend(true);\n    })[\"catch\"](function (err) {\n      return setHasError(true);\n    });\n  }, []); // useEffect( () => {  \n  //    const sendGetRequest = async () => {\n  //       try {\n  //             const reviewUrl = \"https://itunes.apple.com/hk/lookup?id=1480196084\"\n  //             const resp = await axios.get(reviewUrl);\n  //             console.log(resp);\n  //             setAppsRating(resp.data);\n  //             console.log(appsRating);\n  //       } catch (err) {\n  //             // Handle Error Here\n  //             console.error(err);\n  //       }\n  //    };\n  //    sendGetRequest();\n  // }, [])\n\n  var appsArray = [];\n\n  if (isLoading) {\n    appsArray = [\"Top Apps\"];\n    var toggle = true;\n\n    for (var i = 0; i < 10; i++) {\n      appsArray.push(__jsx(AppListing, {\n        key: i,\n        appName: appsData.feed.results[i].name,\n        number: i + 1,\n        icon: appsData.feed.results[i].artworkUrl100,\n        genre: appsData.feed.results[i].genres[0].name,\n        toggle: toggle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 5\n        }\n      }));\n      toggle = !toggle;\n    }\n  }\n\n  var recommendArray = [];\n\n  if (isLoadingRecommend) {\n    for (i = 0; i < 10; i++) {\n      recommendArray.push(__jsx(AppsRecommend, {\n        key: i,\n        appName: appsRecommend.feed.results[i].name,\n        number: i + 1,\n        icon: appsRecommend.feed.results[i].artworkUrl100,\n        genre: appsRecommend.feed.results[i].genres[0].name,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 5\n        }\n      }));\n    }\n  }\n\n  return __jsx(\"div\", {\n    className: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 3\n    }\n  }, __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 4\n    }\n  }, __jsx(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 5\n    }\n  }, \"App Listing\"), __jsx(\"link\", {\n    rel: \"icon\",\n    href: \"/favicon.ico\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 5\n    }\n  })), __jsx(\"main\", {\n    className: styles.main,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 4\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 5\n    }\n  }, __jsx(InputBar, {\n    className: styles.input,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 6\n    }\n  })), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 5\n    }\n  }, __jsx(\"p\", {\n    className: styles.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 6\n    }\n  }, \"\\u63A8\\u4ECB\"), __jsx(\"div\", {\n    className: styles.recommendBox,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 6\n    }\n  }, isLoadingRecommend ? console.log(appsRecommend) : __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 60\n    }\n  }, \"Loading.\"), __jsx(HorizontalScroll, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }\n  }, recommendArray))), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 5\n    }\n  }, hasError ? __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 18\n    }\n  }, \"Error occured.\") : null, isLoading ? console.log(appsData) : __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 45\n    }\n  }, \"Loading.\"), appsArray)));\n}\n\n_s(Home, \"44Sq16izLRR8ng1ntLFmAR0uBC4=\");\n\n_c = Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/Users/ken/Programs/app-listing/app/pages/index.js"],"names":["React","useState","useEffect","axios","Head","HorizontalScroll","InputBar","AppListing","AppsRecommend","styles","Home","hasError","setHasError","appsData","setAppsData","isLoading","setIsLoading","appsRecommend","setAppsRecommend","isLoadingRecommend","setIsLoadingRecommend","targetUrl","then","res","data","err","appsArray","toggle","i","push","feed","results","name","artworkUrl100","genres","recommendArray","container","main","input","title","recommendBox","console","log"],"mappings":";;;;AAAA;AACA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,gBAAP,MAA6B,yBAA7B,C,CACA;;AACA,OAAOC,QAAP,MAAqB,oCAArB;AACA,OAAOC,UAAP,MAAuB,wCAAvB;AACA,OAAOC,aAAP,MAA0B,8CAA1B,C,CACA;;AACA,OAAOC,MAAP,MAAmB,2BAAnB;AAEA,eAAe,SAASC,IAAT,GAAgB;AAAA;;AAAA,kBAEET,QAAQ,CAAC,KAAD,CAFV;AAAA,MAEvBU,QAFuB;AAAA,MAEbC,WAFa;;AAAA,mBAIEX,QAAQ,CAAC,EAAD,CAJV;AAAA,MAIvBY,QAJuB;AAAA,MAIbC,WAJa;;AAAA,mBAKIb,QAAQ,CAAC,KAAD,CALZ;AAAA,MAKvBc,SALuB;AAAA,MAKZC,YALY;;AAAA,mBAOYf,QAAQ,CAAC,EAAD,CAPpB;AAAA,MAOvBgB,aAPuB;AAAA,MAORC,gBAPQ;;AAAA,mBAQsBjB,QAAQ,CAAC,KAAD,CAR9B;AAAA,MAQvBkB,kBARuB;AAAA,MAQHC,qBARG;;AAW9BlB,EAAAA,SAAS,CAAC,YAAM;AACf,QAAMmB,SAAS,GAAG,gFAAlB;AACA;;;;;AAKAlB,IAAAA,KAAK,CAACkB,SAAD,CAAL,CAEEC,IAFF,CAEO,UAAAC,GAAG;AAAA,aAAIT,WAAW,CAACS,GAAG,CAACC,IAAL,CAAf;AAAA,KAFV,EAGEF,IAHF,CAGO;AAAA,aAAMN,YAAY,CAAC,IAAD,CAAlB;AAAA,KAHP,WAIQ,UAACS,GAAD;AAAA,aAASb,WAAW,CAAC,IAAD,CAApB;AAAA,KAJR;AAMA,GAbQ,EAaN,EAbM,CAAT;AAeAV,EAAAA,SAAS,CAAC,YAAM;AACf,QAAMmB,SAAS,GAAG,mFAAlB;AAEAlB,IAAAA,KAAK,CAACkB,SAAD,CAAL,CACEC,IADF,CACO,UAAAC,GAAG;AAAA,aAAIL,gBAAgB,CAACK,GAAG,CAACC,IAAL,CAApB;AAAA,KADV,EAEEF,IAFF,CAEO;AAAA,aAAMF,qBAAqB,CAAC,IAAD,CAA3B;AAAA,KAFP,WAGQ,UAACK,GAAD;AAAA,aAASb,WAAW,CAAC,IAAD,CAApB;AAAA,KAHR;AAKA,GARQ,EAQN,EARM,CAAT,CA1B8B,CAqC9B;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;;AAMA,MAAIc,SAAS,GAAG,EAAhB;;AACA,MAAIX,SAAJ,EAAe;AACdW,IAAAA,SAAS,GAAG,CAAC,UAAD,CAAZ;AACA,QAAIC,MAAM,GAAG,IAAb;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,EAApB,EAAwBA,CAAC,EAAzB,EAA6B;AAE5BF,MAAAA,SAAS,CAACG,IAAV,CACC,MAAC,UAAD;AACC,QAAA,GAAG,EAAED,CADN;AAEC,QAAA,OAAO,EAAEf,QAAQ,CAACiB,IAAT,CAAcC,OAAd,CAAsBH,CAAtB,EAAyBI,IAFnC;AAGC,QAAA,MAAM,EAAEJ,CAAC,GAAG,CAHb;AAIC,QAAA,IAAI,EAAEf,QAAQ,CAACiB,IAAT,CAAcC,OAAd,CAAsBH,CAAtB,EAAyBK,aAJhC;AAKC,QAAA,KAAK,EAAEpB,QAAQ,CAACiB,IAAT,CAAcC,OAAd,CAAsBH,CAAtB,EAAyBM,MAAzB,CAAgC,CAAhC,EAAmCF,IAL3C;AAMC,QAAA,MAAM,EAAEL,MANT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD;AAWAA,MAAAA,MAAM,GAAG,CAACA,MAAV;AAEA;AACD;;AAGD,MAAIQ,cAAc,GAAG,EAArB;;AACA,MAAIhB,kBAAJ,EAAwB;AACvB,SAAKS,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAG,EAAhB,EAAoBA,CAAC,EAArB,EAAyB;AACxBO,MAAAA,cAAc,CAACN,IAAf,CACC,MAAC,aAAD;AACC,QAAA,GAAG,EAAED,CADN;AAEC,QAAA,OAAO,EAAEX,aAAa,CAACa,IAAd,CAAmBC,OAAnB,CAA2BH,CAA3B,EAA8BI,IAFxC;AAGC,QAAA,MAAM,EAAEJ,CAAC,GAAG,CAHb;AAIC,QAAA,IAAI,EAAEX,aAAa,CAACa,IAAd,CAAmBC,OAAnB,CAA2BH,CAA3B,EAA8BK,aAJrC;AAKC,QAAA,KAAK,EAAEhB,aAAa,CAACa,IAAd,CAAmBC,OAAnB,CAA2BH,CAA3B,EAA8BM,MAA9B,CAAqC,CAArC,EAAwCF,IALhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD;AASA;AACD;;AAGD,SACC;AAAK,IAAA,SAAS,EAAEvB,MAAM,CAAC2B,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADD,EAEC;AAAM,IAAA,GAAG,EAAC,MAAV;AAAiB,IAAA,IAAI,EAAC,cAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFD,CADD,EAMC;AAAM,IAAA,SAAS,EAAE3B,MAAM,CAAC4B,IAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,MAAC,QAAD;AAAU,IAAA,SAAS,EAAE5B,MAAM,CAAC6B,KAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,CAFD,EAOC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC;AAAG,IAAA,SAAS,EAAE7B,MAAM,CAAC8B,KAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADD,EAGC;AAAK,IAAA,SAAS,EAAE9B,MAAM,CAAC+B,YAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACErB,kBAAkB,GAAIsB,OAAO,CAACC,GAAR,CAAYzB,aAAZ,CAAJ,GAAkC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADtD,EAEC,MAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACEkB,cADF,CAFD,CAHD,CAPD,EAuBC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACExB,QAAQ,GAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAH,GAA+B,IADzC,EAEEI,SAAS,GAAI0B,OAAO,CAACC,GAAR,CAAY7B,QAAZ,CAAJ,GAA6B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFxC,EAGEa,SAHF,CAvBD,CAND,CADD;AA4CA;;GA9IuBhB,I;;KAAAA,I","sourcesContent":["// From node_modules\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Head from \"next/head\";\nimport HorizontalScroll from \"react-scroll-horizontal\";\n// From Components\nimport InputBar from \"../components/inputBar/inputBar.js\";\nimport AppListing from \"../components/appListing/appListing.js\";\nimport AppsRecommend from \"../components/appsRecommend/appsRecommend.js\";\n// From css\nimport styles from \"../styles/Home.module.css\";\n\nexport default function Home() {\n\n\tconst [hasError, setHasError] = useState(false);\n\n\tconst [appsData, setAppsData] = useState({});\n\tconst [isLoading, setIsLoading] = useState(false);\n\n\tconst [appsRecommend, setAppsRecommend] = useState({});\n\tconst [isLoadingRecommend, setIsLoadingRecommend] = useState(false);\n\n\n\tuseEffect(() => {\n\t\tconst targetUrl = \"https://rss.itunes.apple.com/api/v1/hk/ios-apps/top-free/all/10/explicit.json \";\n\t\t/*\n\t\tTop 100:\n\t\tconst targetUrl = \"https://rss.itunes.apple.com/api/v1/hk/ios-apps/top-free/all/100/explicit.json\"\n\t\t*/\n\n\t\taxios(targetUrl)\n\n\t\t\t.then(res => setAppsData(res.data))\n\t\t\t.then(() => setIsLoading(true))\n\t\t\t.catch((err) => setHasError(true));\n\n\t}, [])\n\n\tuseEffect(() => {\n\t\tconst targetUrl = \"https://rss.itunes.apple.com/api/v1/hk/ios-apps/top-grossing/all/10/explicit.json\";\n\n\t\taxios(targetUrl)\n\t\t\t.then(res => setAppsRecommend(res.data))\n\t\t\t.then(() => setIsLoadingRecommend(true))\n\t\t\t.catch((err) => setHasError(true));\n\n\t}, [])\n\n\n\t// useEffect( () => {  \n\n\t//    const sendGetRequest = async () => {\n\t//       try {\n\t//             const reviewUrl = \"https://itunes.apple.com/hk/lookup?id=1480196084\"\n\t//             const resp = await axios.get(reviewUrl);\n\t//             console.log(resp);\n\t//             setAppsRating(resp.data);\n\t//             console.log(appsRating);\n\t//       } catch (err) {\n\t//             // Handle Error Here\n\t//             console.error(err);\n\t//       }\n\t//    };\n\n\t//    sendGetRequest();\n\t// }, [])\n\n\n\n\n\n\tlet appsArray = [];\n\tif (isLoading) {\n\t\tappsArray = [\"Top Apps\"];\n\t\tlet toggle = true;\n\t\tfor (var i = 0; i < 10; i++) {\n\n\t\t\tappsArray.push(\n\t\t\t\t<AppListing\n\t\t\t\t\tkey={i}\n\t\t\t\t\tappName={appsData.feed.results[i].name}\n\t\t\t\t\tnumber={i + 1}\n\t\t\t\t\ticon={appsData.feed.results[i].artworkUrl100}\n\t\t\t\t\tgenre={appsData.feed.results[i].genres[0].name}\n\t\t\t\t\ttoggle={toggle}\n\t\t\t\t/>\n\t\t\t)\n\n\t\t\ttoggle = !toggle;\n\n\t\t}\n\t}\n\n\n\tlet recommendArray = [];\n\tif (isLoadingRecommend) {\n\t\tfor (i = 0; i < 10; i++) {\n\t\t\trecommendArray.push(\n\t\t\t\t<AppsRecommend\n\t\t\t\t\tkey={i}\n\t\t\t\t\tappName={appsRecommend.feed.results[i].name}\n\t\t\t\t\tnumber={i + 1}\n\t\t\t\t\ticon={appsRecommend.feed.results[i].artworkUrl100}\n\t\t\t\t\tgenre={appsRecommend.feed.results[i].genres[0].name}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\n\treturn (\n\t\t<div className={styles.container}>\n\t\t\t<Head>\n\t\t\t\t<title>App Listing</title>\n\t\t\t\t<link rel=\"icon\" href=\"/favicon.ico\" />\n\t\t\t</Head>\n\n\t\t\t<main className={styles.main}>\n\n\t\t\t\t<div >\n\t\t\t\t\t<InputBar className={styles.input}></InputBar>\n\t\t\t\t</div>\n\n\n\t\t\t\t<div>\n\t\t\t\t\t<p className={styles.title}>推介</p>\n\n\t\t\t\t\t<div className={styles.recommendBox}>\n\t\t\t\t\t\t{isLoadingRecommend ? (console.log(appsRecommend)) : <div>Loading.</div>}\n\t\t\t\t\t\t<HorizontalScroll>\n\t\t\t\t\t\t\t{recommendArray}\n\t\t\t\t\t\t</HorizontalScroll>\n\n\t\t\t\t\t</div>\n\n\n\t\t\t\t</div>\n\n\n\n\t\t\t\t<div>\n\t\t\t\t\t{hasError ? <div>Error occured.</div> : null}\n\t\t\t\t\t{isLoading ? (console.log(appsData)) : <div>Loading.</div>}\n\t\t\t\t\t{appsArray}\n\n\t\t\t\t</div>\n\n\n\n\t\t\t</main>\n\n\n\t\t</div>\n\t)\n}\n"]},"metadata":{},"sourceType":"module"}